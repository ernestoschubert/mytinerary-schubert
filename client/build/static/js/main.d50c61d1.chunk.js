(this["webpackJsonpmytinerary-schubert"]=this["webpackJsonpmytinerary-schubert"]||[]).push([[0],{126:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),c=n(20),a=n.n(c),i=(n(84),n(59),n(23)),o=n(25),l=n(26),u=n(30),j=n(36),d=n(12),m=n(14),b=n(5),p=n.n(b),h=n(3),O=n(13),g=n(21),f={signUpUser:function(e){return function(){var t=Object(O.a)(p.a.mark((function t(n,s){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.post("https://mytinerary-schubert.herokuapp.com/api/users/signup",Object(h.a)({},e));case 2:(r=t.sent).data.success?n({type:"LOG_USER",payload:r.data.response}):console.error(r);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},signInUser:function(e){return function(){var t=Object(O.a)(p.a.mark((function t(n,s){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.post("https://mytinerary-schubert.herokuapp.com/api/users/signin",Object(h.a)({},e));case 2:return(r=t.sent).data.success?n({type:"LOG_USER",payload:r.data.response}):console.error(r.data.response),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},logOut:function(){return function(){var e=Object(O.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"LOG_OUT"});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},signInUserLS:function(e){return function(){var t=Object(O.a)(p.a.mark((function t(n,s){var r,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.get("https://mytinerary-schubert.herokuapp.com/api/verifytoken",{headers:{Authorization:"Bearer ".concat(e)}});case 3:r=t.sent,c={token:e,firstName:r.data.firstName,lastName:r.data.lastName,userImg:r.data.userImg,_id:r.data._id},n({type:"LOG_USER",payload:c}),t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",n({type:"LOG_OUT"}));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()},getCountries:function(){return function(){var e=Object(O.a)(p.a.mark((function e(t,n){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("https://restcountries.com/v2/all?fields=name");case 3:s=e.sent,t({type:"GET_ALL_COUNTRIES",payload:s.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()}},x=f,y=n(22),v=n.n(y),N=n(2);var k={logOut:x.logOut},w=Object(m.b)((function(e){return{firstName:e.users.firstName,lastName:e.users.lastName,userImg:e.users.userImg}}),k)((function(e){var t=e.firstName,n=e.lastName,s=e.userImg,r=s?{img:Object(N.jsx)("div",{style:{padding:".1rem",backgroundColor:"gray",borderRadius:"50%"},children:Object(N.jsx)("img",{src:s,className:"img-user",alt:"Profile user icon"})})}:{img:Object(N.jsx)("img",{src:"/assets/account_circle_white_36dp.svg",alt:"Profile user icon"})},c=v.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",v.a.stopTimer),e.addEventListener("mouseleave",v.a.resumeTimer)}});return Object(N.jsx)(j.a,{title:r.img,id:"nav-dropdown",menuVariant:"dark",children:t?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(j.a.Item,{as:d.b,to:"/",eventKey:"0",children:t+" "+n}),Object(N.jsx)(j.a.Item,{onClick:function(t){return function(t){t.preventDefault(),e.logOut(),c.fire({icon:"success",title:"You have been succesfully logged out!"})}(t)},eventKey:"1",children:"Log Out"})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(j.a.Item,{as:d.b,to:"/signin",eventKey:"1",children:"Sign in"}),Object(N.jsx)(j.a.Item,{as:d.b,to:"/signup",eventKey:"2",children:"Sign Up"})]})})})),C=function(){return Object(N.jsx)("div",{className:"Header",children:Object(N.jsxs)("header",{className:"header-style",children:[Object(N.jsx)("div",{className:"header-logo",children:Object(N.jsx)(d.b,{className:"link",to:"/",children:Object(N.jsx)("img",{src:"/assets/mytinerary_logo.png",alt:"Logo MyTinerary"})})}),Object(N.jsxs)("nav",{className:"header-nav",children:[Object(N.jsx)(d.b,{className:"link",to:"/",children:"Home"}),Object(N.jsx)(d.b,{className:"link",to:"/cities",children:"Cities"})]}),Object(N.jsx)("div",{children:Object(N.jsx)("div",{className:"user",children:Object(N.jsx)(w,{})})})]})})},I=function(){return Object(N.jsxs)("footer",{className:"Footer",children:[Object(N.jsxs)("div",{className:"cont-nav-socials",children:[Object(N.jsxs)("div",{className:"footer-nav",children:[Object(N.jsx)("div",{className:"footer-logo",children:Object(N.jsx)(d.b,{className:"link",to:"/",children:Object(N.jsx)("img",{src:"/assets/mytinerary_logo.png",alt:"Logo MyTinerary"})})}),Object(N.jsxs)("nav",{children:[Object(N.jsx)(d.b,{className:"link",to:"/",children:"Home"}),Object(N.jsx)(d.b,{className:"link ms-4",to:"/cities",children:"Cities"})]})]}),Object(N.jsx)("div",{className:"socials",children:Object(N.jsxs)("nav",{children:[Object(N.jsx)("a",{href:"https://www.instagram.com",target:"_new",children:Object(N.jsx)("img",{src:"/assets/instagram.png",alt:"logo instagram"})}),Object(N.jsx)("a",{href:"https://www.facebook.com",target:"_new",children:Object(N.jsx)("img",{src:"/assets/facebook.png",alt:"logo facebook"})}),Object(N.jsx)("a",{href:"https://www.twitter.com",target:"_new",children:Object(N.jsx)("img",{src:"/assets/twitter.png",alt:"logo twitter"})})]})})]}),Object(N.jsx)("div",{className:"copy",children:Object(N.jsx)("p",{children:"All rights reserved \xa9 Schubert, Ernesto"})})]})},_=n(24),S=n(57),T=(n(119),n(17));n(120),n(121),n(122);T.f.use([T.c,T.d,T.e,T.a,T.b]);var E=function(e){var t=e.cities.map((function(e,t){return Object(N.jsx)(S.b,{className:"slide city-cont",children:e.map((function(e){return Object(N.jsx)("div",{className:"city-img",style:{backgroundImage:"URL(".concat(e.src,")"),backgroundSize:"cover"},children:Object(N.jsx)("h3",{children:e.city+" - "+e.country})},e.id)}))},t)}));return Object(N.jsx)("div",{className:"carousel-container",children:Object(N.jsx)(S.a,{spaceBetween:30,slidesPerView:1,navigation:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{clickable:!0},scrollbar:{draggable:!0},children:t})})},U=[[{id:1,city:"Mykonos",country:"Grecee",src:"./assets/mykonos.jpg"},{id:2,city:"Cancun",country:"Mexico",src:"./assets/cancun.jpeg"},{id:3,city:"Pamukkale",country:"Turkey",src:"./assets/pamukkale.jpg"},{id:4,city:"Abu Dhabi",country:"Arab Emirates",src:"./assets/abudhabi.jpg"}],[{id:5,city:"New York",country:"United States",src:"./assets/newyork.jpg"},{id:6,city:"Barcelona",country:"Spain",src:"./assets/barcelona.jpg"},{id:7,city:"London",country:"England",src:"./assets/london.jpg"},{id:8,city:"Hong Kong",country:"China",src:"./assets/hongkong.jpg"}],[{id:9,city:"Machu Picchu",country:"Peru",src:"./assets/machupicchu.jpg"},{id:10,city:"Isla de Pascua",country:"Chile",src:"./assets/isladepascua.jpg"},{id:11,city:"Cairo",country:"Egypt",src:"./assets/cairopyramids.jpg"},{id:12,city:"Rome",country:"Italy",src:"./assets/coliseum.jpg"}]];function L(){return Object(N.jsx)(E,{cities:U})}var F=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(N.jsxs)("div",{className:"container-home",children:[Object(N.jsx)(C,{}),Object(N.jsxs)("main",{children:[Object(N.jsxs)("div",{className:"main-fv",style:{backgroundImage:'URL("/assets/city_sunset.jpg")'},children:[Object(N.jsxs)("div",{className:"hero-container",children:[Object(N.jsx)("img",{src:"./assets/mytinerary_logo.png",width:"100",alt:"MyTinerary Logo"}),Object(N.jsxs)("h1",{className:"hero-h1",children:["Welcome to ",Object(N.jsx)("span",{className:"my",children:"My"}),Object(N.jsx)("span",{className:"tine",children:"Tine"}),Object(N.jsx)("span",{className:"rary",children:"rary"})]})]}),Object(N.jsx)("div",{children:Object(N.jsx)("p",{className:"hero-text fs-5",children:"Find your perfect trip, designed by insiders who know and love their cities!"})}),Object(N.jsx)("div",{className:"next-section",children:Object(N.jsx)("a",{id:"arrowDown",href:"#sv",children:Object(N.jsx)("img",{src:"./assets/arrow_down.svg",width:"40",alt:"Arrow down to next section"})})}),Object(N.jsx)("div",{className:"plane",children:Object(N.jsx)("img",{src:"./assets/plane.png",alt:"Plane img"})})]}),Object(N.jsxs)("div",{id:"sv",className:"main-sv",children:[Object(N.jsx)("div",{className:"cta-cont",children:Object(N.jsxs)("div",{className:"call-to-action",style:{backgroundImage:"url(/assets/worldmap.jpg)"},children:[Object(N.jsxs)("p",{className:"cta-text fs-4",children:["Choose your dreams trip!",Object(N.jsx)("br",{})," Discover all our trips "]}),Object(N.jsx)(d.b,{className:"link",to:"/cities",children:Object(N.jsx)(_.a,{variant:"warning",className:"fs-4 p-2 ps-5 pe-5 mt-2 btn-cta",children:"Here"})})]})}),Object(N.jsxs)("div",{className:"container-carousel",children:[Object(N.jsx)("h2",{className:"carousel-h2",children:"Popular MyTineraries"}),Object(N.jsx)("div",{className:"container-slider",children:Object(N.jsx)(L,{})})]})]})]}),Object(N.jsx)(I,{})]})}}]),n}(r.a.Component),A=n(74),G=function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(_.a,{variant:"warning",className:"spinner",disabled:!0,children:[Object(N.jsx)(A.a,{as:"span",animation:"border",size:"md",role:"status","aria-hidden":"true"}),Object(N.jsx)("span",{className:"visually-hidden",children:"Loading..."})]})," "]})},R=n(21),Y=n.n(R),P={getCities:function(){return function(){var e=Object(O.a)(p.a.mark((function e(t,n){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.a.get("https://mytinerary-schubert.herokuapp.com/api/cities");case 2:s=e.sent,t({type:"GET_CITIES",payload:s.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},getFiltered:function(e,t){return function(n,s){n({type:"GET_CITIES_FILTERED",payload:{cities:e,e:t}})}},getCity:function(e){return function(){var t=Object(O.a)(p.a.mark((function t(n,s){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.a.get("https://mytinerary-schubert.herokuapp.com/api/cities/"+e);case 2:r=t.sent,n({type:"GET_CITY",payload:r.data.response});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},B=P,D=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.getCities()}},{key:"render",value:function(){var e=this,t=this.props,n=t.cities,s=t.citiesFiltered;return Object(N.jsxs)("div",{className:"cont",children:[Object(N.jsx)(C,{}),Object(N.jsxs)("main",{children:[Object(N.jsx)("div",{className:"cities-hero",style:{backgroundImage:'URL("./assets/worldmap.jpg")',backgroundSize:"cover"},children:Object(N.jsxs)("div",{className:"hero-content-cities",children:[Object(N.jsx)("h1",{children:"MyTinerary Trips"}),Object(N.jsx)("input",{className:"mt-5",type:"search",placeholder:"Search by city",onChange:function(t){return e.props.getFiltered(n,t.target.value)}})]})}),Object(N.jsx)("div",{className:"container-fluid container-cities",children:Object(N.jsxs)("div",{className:"row justify-content-center m-0",children:[Object(N.jsx)("h2",{className:"cities-h2 mb-3",children:"Cities"}),0===n.length?Object(N.jsx)(G,{}):s.length>0?s.map((function(e){var t=e._id,n=e.city,s=e.country,r=e.src;return Object(N.jsx)(d.b,{to:"/city/".concat(t),className:"col-10 col-lg-5 mb-4",children:Object(N.jsxs)("div",{className:"cities-img p-2",style:{backgroundImage:"URL(".concat(r,")"),backgroundSize:"cover"},children:[Object(N.jsx)("h3",{className:"w-100",children:n+" - "+s}),Object(N.jsx)(_.a,{variant:"warning",className:"more-info",children:"More Info"})]})},t)})):Object(N.jsx)("div",{className:"not-found",children:Object(N.jsx)("h3",{children:"City not found"})})]})})]}),Object(N.jsx)(I,{})]})}}]),n}(r.a.Component),M={getCities:B.getCities,getFiltered:B.getFiltered},z=Object(m.b)((function(e){return{cities:e.cities.citiesArray,citiesFiltered:e.cities.citiesFiltered}}),M)(D),H=n(4),K=n(7),W=n(43),V=function(e){var t=e.activities;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{children:"Activities"}),Object(N.jsx)("div",{className:"act-cont",children:t.map((function(e){return Object(N.jsxs)("div",{className:"activity-style",children:[Object(N.jsx)("h4",{className:"mb-1 d-flex justify-content-center align-items-center",children:e.activityTitle}),Object(N.jsx)("img",{src:e.activityImg,alt:"Activity"})]},e._id)}))})]})},J={getCityItineraries:function(e){return function(){var t=Object(O.a)(p.a.mark((function t(n,s){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.a.get("https://mytinerary-schubert.herokuapp.com/api/itineraries/city/".concat(e));case 2:r=t.sent,n({type:"GET_CITY_ITINERARY",payload:r.data.response});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},getItineraryActivities:function(e){return Object(O.a)(p.a.mark((function t(){var n,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y.a.get("https://mytinerary-schubert.herokuapp.com/api/activities/itinerary/".concat(e));case 3:return n=t.sent,s=n.data.response,t.abrupt("return",s);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",{success:!1,response:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))},likeItinerary:function(e,t){return Object(O.a)(p.a.mark((function n(){var s;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Y.a.put("https://mytinerary-schubert.herokuapp.com/api/itinerary/like/".concat(e),{},{headers:{Authorization:"Bearer ".concat(t)}});case 3:return s=n.sent,n.abrupt("return",s);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))},sendComment:function(e){return Object(O.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.a.post("https://mytinerary-schubert.herokuapp.com/api/itinerary/comments",e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))},deleteComment:function(e){return Object(O.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.a.delete("https://mytinerary-schubert.herokuapp.com/api/itinerary/comments",{data:e});case 2:return n=t.sent,t.abrupt("return",n.data.response);case 4:case"end":return t.stop()}}),t)})))},editComment:function(e,t){return Object(O.a)(p.a.mark((function n(){var s;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Y.a.put("https://mytinerary-schubert.herokuapp.com/api/itinerary/comments/"+e,t);case 2:return s=n.sent,n.abrupt("return",s.data.response);case 4:case"end":return n.stop()}}),n)})))}},q=J,Q=n(75),X=n(77),Z=n(50),$=n(76),ee=n(58);n(125);ee.a.configure();var te={sendComment:q.sendComment,deleteComment:q.deleteComment,editComment:q.editComment},ne=Object(m.b)((function(e){return{userLogged:e.users.user}}),te)((function(e){var t=e.itineraryId,n=e.userLogged,r=e.itineraryComments,c=Object(s.useState)(r),a=Object(H.a)(c,2),i=a[0],o=a[1],l=Object(s.useState)(""),u=Object(H.a)(l,2),j=u[0],d=u[1],m=Object(s.useState)(!1),b=Object(H.a)(m,2),h=b[0],g=b[1],f=Object(s.useState)(""),x=Object(H.a)(f,2),y=x[0],k=x[1],w=Object(s.useState)(""),C=Object(H.a)(w,2),I=C[0],_=C[1],S=function(){var s=Object(O.a)(p.a.mark((function s(){var r;return p.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(""===j){s.next=6;break}return d(""),s.next=4,e.sendComment({userId:n._id,comment:j,itineraryId:t});case 4:r=s.sent,o(r.data.response);case 6:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}(),T=function(){var t=Object(O.a)(p.a.mark((function t(n){var s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.deleteComment(n);case 2:s=t.sent,o(s);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(s.useEffect)((function(){o(r)}),[n]);var E=function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.a.fire({title:"Are you sure?",text:"You are going to delete your comment!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&(T(t),v.a.fire("Deleted!","Your comment has been deleted","success"))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var t=Object(O.a)(p.a.mark((function t(n,s){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(!h),t.next=3,e.editComment(n,s);case 3:r=t.sent,o(r);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"comments-general-container",children:[Object(N.jsx)("div",{className:"commentsTittle-container",children:Object(N.jsx)("h1",{className:"commentsTittle",children:"Comments"})}),Object(N.jsx)("div",{className:"all-comments-container",children:i.map((function(e,s){return Object(N.jsx)("div",{className:"comment",children:Object(N.jsxs)("div",{className:"x-alineator",children:[Object(N.jsx)("div",{children:Object(N.jsx)("div",{className:"authorComment-img",style:{backgroundImage:"url(".concat(e.userImg,")")}})}),Object(N.jsxs)("div",{className:"commentContent-container",children:[Object(N.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",maxWidth:"290px"},children:[Object(N.jsx)("p",{className:"comment-author",children:Object(N.jsxs)("strong",{children:[" ",e.userName]})}),n&&e.userId===n._id&&Object(N.jsxs)("div",{className:"modifyCommentIcons-container",children:[Object(N.jsx)(Z.a,{onClick:function(){return t=e.comment,n=e._id,g(!h),k(t),void _(n);var t,n},className:h?"displayNone":"edit-icon"}),Object(N.jsx)(Z.b,{onClick:function(){return E({itineraryId:t,commentId:e._id})},className:h?"displayNone":"delete-icon"})]})]}),Object(N.jsx)("p",{className:h?"displayNone":"comment-content",children:e.comment}),n&&e.userId===n._id&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("input",{type:"text",value:I===e._id?y:e.comment,onChange:function(e){return k(e.target.value)},className:h?"editingInput":"displayNone"}),Object(N.jsx)($.a,{className:h?"sendEditedIcon":"displayNone",onClick:function(){return U(t,{commentId:e._id,newComment:y})}})]})]})]})},s)}))}),Object(N.jsxs)("div",{className:"input-container",children:[Object(N.jsx)("input",{type:"text",value:j,onChange:function(e){return d(e.target.value)},className:"comments-input",placeholder:"Send comment"}),Object(N.jsx)("div",{className:"paperPlane-icon",onClick:n?S:function(){return e="Comment",void ee.a.error("Must be logged to ".concat(e,"!"));var e},children:Object(N.jsx)(Q.a,{icon:X.a})})]})]})})})),se=function(e,t){v.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",v.a.stopTimer),e.addEventListener("mouseleave",v.a.resumeTimer)}}).fire({icon:e,title:t})},re={getItineraryActivities:q.getItineraryActivities,likeItinerary:q.likeItinerary},ce=Object(m.b)((function(e){return{token:e.users.token,_id:e.users._id,user:e.users.user}}),re)((function(e){var t=Object(K.h)().id,n=e.itinerary,r=n._id,c=n.src,a=n.firstName,i=n.lastName,o=n.likes,l=n.title,u=n.price,j=n.duration,d=n.hastags,m=n.comments,b=Object(s.useState)(!1),h=Object(H.a)(b,2),g=h[0],f=h[1],x=Object(s.useState)([]),y=Object(H.a)(x,2),v=y[0],k=y[1],w=Object(s.useState)(!0),C=Object(H.a)(w,2),I=C[0],_=C[1],S=Object(s.useState)(o),T=Object(H.a)(S,2),E=T[0],U=T[1],L=E.includes(e._id)?"/assets/heart-red.png":"/assets/heart.png";function F(){return(F=Object(O.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getItineraryActivities(r);case 3:(n=t.sent)&&k(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}var A=function(){f(!g),function(){F.apply(this,arguments)}()},G=function(){var t=Object(O.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_(!1),e.token){t.next=5;break}se("error","You must be logged in to like this post"),t.next=9;break;case 5:return t.next=7,e.likeItinerary(r,e.token);case 7:n=t.sent,U(n.data.response);case 9:_(!0);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:"itineraries-container mb-2 mt-2",children:[Object(N.jsxs)("div",{className:"cont-likes-publisher",children:[Object(N.jsxs)("div",{className:"publisher mb-2",children:[Object(N.jsx)("div",{className:"img-bg",children:Object(N.jsx)("img",{src:c,className:"publisher-img",alt:"publisher profile"})}),Object(N.jsx)("h5",{className:"ms-3 italic-shadow linkedin-logo",children:Object(N.jsxs)("a",{href:"https://www.linkedin.com/",target:"_new",className:"ms-2 d-flex align-items-center",children:[a+" "+i,Object(N.jsx)("img",{src:"/assets/linkedin.png",alt:"linkedin logo",className:"ms-2"})]})})]}),Object(N.jsx)("div",{className:"ms-4",children:Object(N.jsxs)("div",{className:"likes",children:[Object(N.jsx)("img",{onClick:I?G:null,src:L,className:"like-heart",alt:"heart"}),Object(N.jsx)("span",{className:"cont-likes",children:E.length})]})})]}),Object(N.jsxs)("div",{className:"cont-info-it",children:[Object(N.jsx)("div",{children:Object(N.jsx)("h2",{className:"mb-5 mt-2 h2-title-itine italic-shadow",children:l})}),Object(N.jsxs)("div",{className:"it-info",children:[Object(N.jsxs)("p",{className:"italic-shadow",children:["Price: ","\ud83d\udcb8".repeat(u)]}),Object(N.jsxs)("p",{className:"italic-shadow",children:["Duration: ","\u23f1\ufe0f".repeat(j)]}),Object(N.jsxs)("p",{className:"italic-shadow",children:["Hastags: ",d.map((function(e,n){return Object(N.jsx)("a",{href:"/city/".concat(t),className:"ms-2",children:e},n)}))]})]})]}),Object(N.jsx)(W.a,{defaultActiveKey:"0",className:"mt-4",children:Object(N.jsxs)(W.a.Item,{eventKey:"1",children:[Object(N.jsx)(W.a.Header,{onClick:function(){return A()},children:g?"View less":"View more"}),Object(N.jsx)(W.a.Body,{className:"cont-act-comments",children:Object(N.jsxs)("div",{className:"itinerary-div",children:[Object(N.jsx)(V,{activities:v}),Object(N.jsx)(ne,{itineraryId:r,itineraryComments:m})]})})]})})]},r)})),ae=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).id=e.props.params.id,e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.getCities(),this.props.getCity(this.id),this.props.getCityItineraries(this.id)}},{key:"render",value:function(){var e=this.props,t=e.cities,n=e.itinerary,s=e.city;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(C,{}),Object(N.jsxs)("main",{className:"d-flex justify-content-center align-center",children:[Object(N.jsx)("div",{className:"hero-city",style:{backgroundImage:"URL(".concat(s.src,")"),backgroundSize:"cover"},children:Object(N.jsxs)("div",{className:"place-cont",children:[Object(N.jsx)("h1",{children:void 0===s.city?Object(N.jsx)(G,{}):s.city}),Object(N.jsx)("p",{children:s.country})]})},s._id),Object(N.jsx)("h2",{className:"itine-h2 italic-shadow mb-3",children:"Itineraries"}),0===t.length?Object(N.jsx)(G,{}):n.length>0?n.map((function(e,t){return Object(N.jsx)("div",{children:Object(N.jsx)(ce,{itinerary:e})},t)})):Object(N.jsxs)("div",{className:"no-itine",children:[Object(N.jsxs)("h4",{children:["There are no itineraries yet for ",s.city]}),Object(N.jsx)("img",{src:"/assets/comingsoon.png",alt:"coming soon"})]}),Object(N.jsx)(d.b,{to:"/cities",className:"mb-4 mt-4",children:Object(N.jsx)(_.a,{variant:"warning",children:"Go back Cities"})})]}),Object(N.jsx)(I,{})]})}}]),n}(r.a.Component),ie={getCities:B.getCities,getCity:B.getCity,getCityItineraries:q.getCityItineraries},oe=Object(m.b)((function(e){return{cities:e.cities.citiesArray,city:e.cities.city,itinerary:e.itineraries.itinerary}}),ie)(ae),le=n(10),ue=function(){var e=Object(s.useState)(!1),t=Object(H.a)(e,2),n=t[0],r=t[1],c=Object(N.jsx)("img",{src:n?"/assets/hidden.png":"/assets/view.png",onClick:function(){return r((function(e){return!e}))},alt:"visibility icon"});return[n?"text":"password",c,n?"password":"******"]},je=n(51),de=n.n(je),me={signInUser:x.signInUser},be=Object(m.b)(null,me)((function(e){var t=ue(),n=Object(H.a)(t,3),r=n[0],c=n[1],a=n[2],i=Object(s.useState)({email:"",password:""}),o=Object(H.a)(i,2),l=o[0],u=o[1],j=function(e){u(Object(h.a)(Object(h.a)({},l),{},Object(le.a)({},e.target.name,e.target.value)))},m=function(t){var n={email:t.profileObj.email,password:t.profileObj.googleId,google:!0};e.signInUser(n).then((function(e){e.data.success&&se("success","Welcome! You have been successfully logged")})).catch((function(e){console.log(e),se("error","You have to sign up before you log in!")}))};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(C,{}),Object(N.jsx)("main",{className:"signup-container",children:Object(N.jsxs)("div",{className:"cont-form",children:[Object(N.jsx)("h1",{className:"mb-4",children:"Sign In"}),Object(N.jsxs)("form",{className:"form-style",children:[Object(N.jsx)("input",{type:"text",name:"email",onChange:j,placeholder:"Username or email"}),Object(N.jsxs)("span",{className:"password-toggle-icon",children:[c,Object(N.jsx)("input",{type:r,name:"password",onChange:j,placeholder:a,autoComplete:"text"===r?"off":"nope"})]}),Object(N.jsx)("button",{onClick:function(t){return function(t){t.preventDefault(),Object.values(l).some((function(e){return""===e}))?se("error","There are fields incomplete, please complete them"):e.signInUser(l).then((function(e){e.data.success?se("success","Welcome! You have been successfully logged"):se("error","Email or password incorrect")})).catch((function(e){console.log(e),se("error","Email or password incorrect")}))}(t)},className:"mt-2 ps-4 pe-4 btns",children:"Sign In"}),Object(N.jsx)("p",{children:"or"}),Object(N.jsx)("span",{className:"google-btn mt-2 mb-2",children:Object(N.jsx)(de.a,{clientId:"988627387814-jdnopntr6b8l3s5k0d2n9cjgkdnjbnsd.apps.googleusercontent.com",buttonText:"Sign Up with Google",onSuccess:m,onFailure:m,cookiePolicy:"single_host_origin"})})]}),Object(N.jsx)("div",{children:Object(N.jsxs)("p",{children:["Don't you have an account yet? ",Object(N.jsx)(d.b,{to:"/signup",children:" Sign Up"})]})})]})})]})})),pe={signUpUser:x.signUpUser,getCountries:x.getCountries},he=Object(m.b)((function(e){return{firstName:e.users.firstName,lastName:e.users.lastName,userImg:e.users.userImg,email:e.users.email,allCountries:e.users.allCountries}}),pe)((function(e){var t=ue(),n=Object(H.a)(t,3),r=n[0],c=n[1],a=n[2],i=e.getCountries;Object(s.useEffect)((function(){i()}),[]);var o=e.allCountries,l=Object(s.useState)({firstName:"",lastName:"",email:"",password:"",userImg:"",country:""}),u=Object(H.a)(l,2),j=u[0],m=u[1],b=function(e){m(Object(h.a)(Object(h.a)({},j),{},Object(le.a)({},e.target.name,e.target.value)))},p=Object(s.useState)({}),O=Object(H.a)(p,2),g=O[0],f=O[1],x=function(t){var n={firstName:t.profileObj.givenName,lastName:t.profileObj.familyName,email:t.profileObj.email,password:t.profileObj.googleId,userImg:t.profileObj.imageUrl,country:" ",googleAccount:!0};e.signUpUser(n).then((function(e){e.data.success?se("success","Your account has been created!"):(f(e.data.error),se("error","Something went wrong! Come back later!"))})).catch((function(e){console.log(e),se("error","This account is already in use.")}))};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(C,{}),Object(N.jsx)("main",{className:"signup-container",children:Object(N.jsxs)("div",{className:"cont-form",children:[Object(N.jsx)("h1",{className:"mb-3",children:" Sign Up"}),Object(N.jsxs)("form",{className:"form-style",children:[Object(N.jsx)("input",{type:"text",onChange:b,name:"firstName",placeholder:"First Name"}),Object(N.jsx)("input",{type:"text",onChange:b,name:"lastName",placeholder:"Last Name"}),Object(N.jsx)("input",{type:"email",onChange:b,name:"email",placeholder:"email@email.com"}),Object(N.jsx)("p",{className:"text-danger",children:g.email}),Object(N.jsxs)("span",{className:"password-toggle-icon",children:[c,Object(N.jsx)("input",{type:r,onChange:b,name:"password",placeholder:a,autoComplete:"text"===r?"off":"nope"}),Object(N.jsx)("p",{className:"text-danger",children:g.password})]}),Object(N.jsx)("input",{type:"url",onChange:b,name:"userImg",placeholder:"URL Profile Image"}),Object(N.jsxs)("select",{defaultValue:"choose your country",onChange:b,name:"country",id:"select-state",children:[Object(N.jsx)("option",{disabled:!0,value:"choose your country",children:"Choose your country"}),"object"===typeof o?o.map((function(e,t){return Object(N.jsx)("option",{value:e.name,children:e.name},t)})):Object(N.jsx)("option",{children:"Loading..."})]}),Object(N.jsx)("button",{onClick:function(t){return function(t){t.preventDefault(),Object.values(j).some((function(e){return""===e}))?se("error","There are fields incomplete, please complete them"):e.signUpUser(j).then((function(e){console.log(e),e.data.success?se("success","Your account has been created!"):e.data.errors?(f({}),e.data.errors.map((function(e){return f((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(le.a)({},e.path,e.message))}))}))):se("error","That email has already been used! Try with another one")})).catch((function(e){console.log(e),se("error","We are having technicas difficulties! Come back later!")}))}(t)},className:"mt-2 ps-4 pe-4 btns",children:"Create account"}),Object(N.jsx)("p",{children:"or"}),Object(N.jsx)("span",{className:"google-btn mt-2 mb-2",children:Object(N.jsx)(de.a,{clientId:"988627387814-jdnopntr6b8l3s5k0d2n9cjgkdnjbnsd.apps.googleusercontent.com",buttonText:"Sign Up with Google",onSuccess:x,onFailure:x,cookiePolicy:"single_host_origin"})})]}),Object(N.jsx)("div",{children:Object(N.jsxs)("p",{children:["Already has an account? ",Object(N.jsx)(d.b,{to:"/signin",children:" Sign In"})]})})]})})]})}));var Oe,ge=function(){var e=Object(K.f)().pathname;return Object(s.useEffect)((function(){window.scrollTo(0,0)}),[e]),null},fe=(Oe=oe,function(e){var t=Object(K.f)(),n=Object(K.g)(),s=Object(K.h)();return Object(N.jsx)(Oe,Object(h.a)(Object(h.a)({},e),{},{navigate:n,location:t,params:s}))}),xe={signInUserLS:x.signInUserLS},ye=Object(m.b)((function(e){return{token:e.users.token}}),xe)((function(e){var t=e.signInUserLS;return Object(s.useEffect)((function(){localStorage.getItem("token")&&t(localStorage.getItem("token"))}),[]),Object(N.jsxs)(d.a,{children:[Object(N.jsx)(ge,{}),Object(N.jsxs)(K.d,{children:[Object(N.jsx)(K.b,{path:"/",element:Object(N.jsx)(F,{})}),Object(N.jsx)(K.b,{path:"cities",element:Object(N.jsx)(z,{})}),Object(N.jsx)(K.b,{path:"city/:id",element:Object(N.jsx)(fe,{})}),!e.token&&Object(N.jsx)(K.b,{path:"signin",element:Object(N.jsx)(be,{})}),!e.token&&Object(N.jsx)(K.b,{path:"signup",element:Object(N.jsx)(he,{})}),Object(N.jsx)(K.b,{path:"*",element:Object(N.jsx)(K.a,{to:"/"})})]})]})})),ve=n(41),Ne=n(78),ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{citiesArray:[],citiesFiltered:[],city:{}},t=arguments.length>1?arguments[1]:void 0;if("GET_CITIES"===t.type)return Object(h.a)(Object(h.a)({},e),{},{citiesArray:t.payload,citiesFiltered:t.payload});if("GET_CITIES_FILTERED"===t.type){var n=t.payload,s=n.cities,r=n.e,c=s.filter((function(e){return e.city.toLowerCase().trim().startsWith(r.toLowerCase().trim())}));return Object(h.a)(Object(h.a)({},e),{},{citiesFiltered:c})}return"GET_CITY"===t.type?Object(h.a)(Object(h.a)({},e),{},{city:t.payload}):e},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{itinerary:[]},t=arguments.length>1?arguments[1]:void 0;return"GET_CITY_ITINERARY"===t.type?Object(h.a)(Object(h.a)({},e),{},{itinerary:t.payload}):e},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userImg:null,user:null,firstName:null,lastName:null,email:null,token:null,_id:null,allCountries:[]},t=arguments.length>1?arguments[1]:void 0;return"LOG_USER"===t.type?(localStorage.setItem("token",t.payload.token),Object(h.a)(Object(h.a)({},e),{},{user:t.payload,token:t.payload.token,userImg:t.payload.userImg,firstName:t.payload.firstName,lastName:t.payload.lastName,email:t.payload.email,_id:t.payload._id})):"LOG_OUT"===t.type?(localStorage.clear(),{token:null,userImg:null,firstName:null,lastName:null,email:null,_id:null}):"GET_ALL_COUNTRIES"===t.type?{allCountries:t.payload}:e},Ie=Object(ve.b)({cities:ke,itineraries:we,users:Ce}),_e=Object(ve.c)(Ie,Object(ve.a)(Ne.a));a.a.render(Object(N.jsx)(m.a,{store:_e,children:Object(N.jsx)(ye,{})}),document.getElementById("root"))},59:function(e,t,n){}},[[126,1,2]]]);
//# sourceMappingURL=main.d50c61d1.chunk.js.map